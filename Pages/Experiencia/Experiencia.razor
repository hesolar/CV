@page "/Experiencia"
@page "/Experience"
@page "/CV/Experiencia"
@page "/CV/Experience"


@using CV.Shared.Resources;
@inject IStringLocalizer<AllResourcesRes> AllResourcesResolver

<!-- Experience-->
<section class="resume-section" id="experiencia">
    <div class="resume-section-content">
        <h2 class="mb-0">
            <span class="text-primary"> @AllResourcesResolver["navbar_experiencia"]</span>
        </h2>
        <br>


        <SharedSection SrcImagen="assets/img/logoHiberus.png"
                           AltImagen="Hiberus Tecnología"
                           Description=@CreateFromString($"<p>{AllResourcesResolver["programadorWebJuniorHiberusDescripcion1"]}<li>{AllResourcesResolver["programadorWebJuniorHiberusDescripcion2"]}</li><li>{AllResourcesResolver["programadorWebJuniorHiberusDescripcion3"]}</li></p>")
                           TiempoTrabajo=@TotalYearsMonthsFormatted(new DateTime(2022, 5, 1), DateTime.Now)
                           Subtitulo=@AllResourcesResolver["programadorWebJuniorHiberusSubTitulo"]
                           Titulo=@AllResourcesResolver["programadorWebJuniorHiberusTitulo"] />


        <SharedSection SrcImagen="assets/img/logoHiberus.png"
                           AltImagen="Hiberus Tecnología"
                           Description=@CreateFromString($"<p>{AllResourcesResolver["contratoPracticasHiberus1Descripcion"]}</p>")
                           TiempoTrabajo=@($"dc 2011 - mar. 2013 · 4 {AllResourcesResolver["meses"]}")
                           Subtitulo="@AllResourcesResolver["contratoPracticasHiberus1Subitulo"]"
                           Titulo=@AllResourcesResolver["contratoPracticasHiberus1Titulo"] />

        <SharedSection SrcImagen="assets/img/logoGnoss.png"
                           AltImagen="Gnoss Tecnología"
                           Description=@CreateFromString($"{AllResourcesResolver["contratoPracticasGnossDescripcion"]}")
                           TiempoTrabajo=@($"sept. 2021 - dc. 2021 · 4 {AllResourcesResolver["meses"]}")
                           Subtitulo=@AllResourcesResolver["contratoPracticasGnossSubitulo"]
                           Titulo=@AllResourcesResolver["contratoPracticasGnossSubitulo"] />

        <SharedSection SrcImagen="assets/img/logoHiberus.png"
                           AltImagen="assets/img/logoHiberus.png"
                           Description=@CreateFromString($"{AllResourcesResolver["contratoPracticasHiberus2Descripcion"]}")
                           TiempoTrabajo=@($"jul. 2021 - sept. 2021 · 3 {AllResourcesResolver["meses"]}")
                           Subtitulo=@AllResourcesResolver["contratoPracticasHiberus2Subitulo"]
                           Titulo=@AllResourcesResolver["contratoPracticasHiberus21Titulo"] />

    </div>
</section>
<hr class="m-0" />


@code {
    String TotalYearsMonthsFormatted(DateTime fechaInicio, DateTime fechaFin)
    {
        int totalMeses = ((fechaFin.Year - fechaInicio.Year) * 12) + DateTime.Now.Month - fechaInicio.Month;
        int anios = totalMeses / 12;
        int meses = totalMeses % 12;


        var formattedString = anios.ToString() + " ";

        @if (anios == 1)
        {
            formattedString += AllResourcesResolver["year"];
        } else
        {
            formattedString += AllResourcesResolver["years"];
        }

        formattedString += " " + meses + " ";
        @if (meses == 1)
        {
            formattedString += AllResourcesResolver["mes"];
        } else
        {
            formattedString += AllResourcesResolver["meses"];
        }


        return formattedString;
    }

    public RenderFragment CreateFromString(string content)
    {
        RenderFragment renderFragment = builder =>
        {
            builder.AddMarkupContent(0, content);
        };

        return renderFragment;
    }
}